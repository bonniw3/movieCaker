

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head prefix="">
    <meta charset="utf-8" />
    <link href="http://moviecaker.com/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    
    
    
    <title>编辑个人资料</title>
    <meta name="description" />
    <meta name="keywords" />


    <!-- for Facebook -->
    <meta property="fb:app_id" content="741698679249852" />
    <meta property="og:site_name" content="Moviecaker" />
    <meta property="og:url" content="http://moviecaker.com/user/edit?returnUrl=%2F" />
    <meta property="og:title" />
    <meta property="og:type" content="website" />
    <meta property="og:description" />
    <meta property="og:image" />
    

    <!-- 360 6.X 以上可识别 -->
    <meta name="renderer" content="webkit">
    
    <meta property="wb:webmaster" content="60e21d9e85ef425a" /><!-- 微博驗證 -->
    <meta property="qc:admins" content="246360627615313526375" /><!-- QQ 驗證 -->
    <link href="http://moviecaker.com/Bundles/css?v=1n0qTWYyxiR48OSWfp1-KzjVqQUz32uIJn9vV6ENGK41" rel="stylesheet"/>

    
    
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=4036480982" type="text/javascript" charset="utf-8"></script><!-- 引用新浪微博 JSSDK 文件 -->
    <script type="text/javascript" src="http://qzonestyle.gtimg.cn/qzone/openapi/qc_loader.js" data-appid="101219875" data-redirecturi="http://www.moviecaker.com" charset="utf-8"></script>
    <script src="http://moviecaker.com/bundles/jquery?v=dFR3amEsYDF5Wg1JOQaGmjaQUqayJV6iyceqDLbnxsw1"></script>

    <script src="http://moviecaker.com/bundles/js?v=IDd36S4ZmPQgDiQhSEc1Z1Y6EZ0mn2tJ1mHo6h1HWIk1"></script>

    <script type = 'text/javascript' >
        var appInsights=window.appInsights||function(config)
        {
            function r(config){ t[config] = function(){ var i = arguments; t.queue.push(function(){ t[config].apply(t, i)})} }
            var t = { config:config},u=document,e=window,o='script',s=u.createElement(o),i,f;for(s.src=config.url||'//az416426.vo.msecnd.net/scripts/a/ai.0.js',u.getElementsByTagName(o)[0].parentNode.appendChild(s),t.cookie=u.cookie,t.queue=[],i=['Event','Exception','Metric','PageView','Trace','Ajax'];i.length;)r('track'+i.pop());return r('setAuthenticatedUserContext'),r('clearAuthenticatedUserContext'),config.disableExceptionTracking||(i='onerror',r('_'+i),f=e[i],e[i]=function(config, r, u, e, o) { var s = f && f(config, r, u, e, o); return s !== !0 && t['_' + i](config, r, u, e, o),s}),t
        }({
            instrumentationKey:'53295a54-8e36-4b59-8c2e-f9dee36cbbc6'
        });
        
        window.appInsights=appInsights;
        appInsights.trackPageView();
    </script>
</head>
<body>
    <div id="other-function-sheet" class="other-function" data-videoid="" style="display: none;">
        <div class="rateit bigstars" data-rateit-starwidth="25" data-rateit-starheight="25" style="cursor: pointer;"></div>
        <a class="sub-other-function gotoVideo" href="#" target="_blank">到电影页面</a>
        <a class="sub-other-function addReviews" href="#">写影志</a>
        <a class="sub-other-function addLabel" href="#">加入标签</a>
        <a class="sub-other-function addToTopic" href="#">加入专题</a>
    </div>
    <div class="header navbar navbar-fixed-top layout-header">
        <div class="container layout-wrap">
            <h1 class="logo"><a href="http://moviecaker.com/">MovieCaker</a></h1>
            <div class="setting-area">
                


<link href="http://moviecaker.com/Content/pages/user-login.partial.min.css" rel="stylesheet" />
    <div class="btn-group myplus">
        <span id="qqLoginBtn" style="display:none;"></span>
        <a class="btn" data-toggle="dropdown" href="#" style="background:#D87C7C">
            <span class="icon-myplus icomoon"></span>
        </a>
        <ul id="all-add" class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu" style="text-align: left;">
            <li><a href="http://moviecaker.com/otherFunction/writeAReview" class="nav2group" id="nav2review">
                <!--<i class="icon-pencil icon-white" style="margin: 2px 2px 0 0;"></i>-->写影志</a>
            </li>
            <li>
                <a href="http://moviecaker.com/topic/create" class="nav2group" id="nav2topic">
                    <!--<i class="icon-list-alt icon-white"></i>-->
                    做专题</a>
            </li>
        </ul>
    </div>
<div class="btn-group">
    <ul class="logintop" style="list-style: none outside none;">
            <li class="my-photo btn" style="padding:0px;border:initial">
                <a href="http://moviecaker.com/user/10" title="ian" id="main_user">
                    <img class="avatar-photo user-self" src="http://www.moviecaker.com/uploads/userAvatar/user_10.jpg?width=50&amp;height=50&amp;stretch=fill" onerror="onImgError(this);" />
                </a>
            </li>

        <li class="btn">
            <link href="http://moviecaker.com/Content/pages/yougotfriendinviting.min.css" rel="stylesheet" />
<a id="yougotinvited" href="#inlineFriend" style="text-decoration: none;background: #ADCB80">
    <span class="icon-users icomoon"></span>
</a>
<div style="display: none;" class="ShowFriendBlock" id="parentOfinlineFriend">
    <div id="inlineFriend" style="white-space: nowrap;">
        <ul class="logintop inviting_list" style="width: auto;margin: 0 auto;">

        </ul>
            没有新的交友邀请
    </div>
</div>

        </li>
        <li class="btn">

<link href="http://moviecaker.com/Content/pages/messagebox.min.css" rel="stylesheet" />
<a id="yougotmessage" href="#inlineMessage" style="text-decoration: none;background: #DAC04E">
    <span class="icon-envelop icomoon"></span>
</a>
<div style="display: none;" class="ShowMessageBlock" id="parentOfinlineMessage">
    <div id="inlineMessage" style="white-space: nowrap;">
            <span id="see-all-message">最近沒有收到新消息<br /><a href="http://moviecaker.com/Message/MessageInBox">查看全部消息</a></span>
    </div>
</div>
<script src="http://moviecaker.com/Scripts/pages/messagebox.min.js"></script>        </li>
        <li class="btn" id="setting">
            <div class="btn-group">
                <a data-toggle="dropdown" href="#">
                    <span class="icon-cog icomoon"></span>
                </a>
                <ul id="all-setting" class="dropdown-menu pull-left" role="menu" aria-labelledby="dropdownMenu" style="text-align: left;width: 110px;">
                    
                    <li style="margin-top: 0px;"><a href="http://moviecaker.com/user/edit?returnUrl=%2Fuser%2Fedit"><i class="icon-pencil  icon-white"></i>使用者设定</a></li>
                    
                    <li style="margin-top: 0px;">
                        <a href="http://moviecaker.com/Home/ChangeLang/zh-TW" class="">繁体中文</a>
                    </li>
                    <li style="margin-top: 0px;">
                        <a href="http://moviecaker.com/Home/ChangeLang/zh-CN" class="aOnSelect">简体中文</a>
                    </li>
                    <li class="divider" style="margin-top: -1px;"></li>
                        <li style="margin-top: 0px;"><a href="http://moviecaker.com/admin-moma"><i class="icon-lock  icon-white"></i>後台管理</a></li>
                    <li style="margin-top: 0px;"><a href="http://moviecaker.com/account/logoff"><i class="icon-off  icon-white"></i>登出</a></li>
                </ul>
            </div>
        </li>
        <li style="display:none;">
            <p>online member : <span id="online-member-amount"></span></p>
            <p>online user : <span id="online-user-amount"></span></p>
        </li>
    </ul>
</div>
            </div>
            <!--setting-area-->

<link href="http://moviecaker.com/Content/pages/multiple-search.min.css" rel="stylesheet" />
<script src="http://moviecaker.com/Scripts/pages/multiple-search.min.js"></script>
<div id="mutiple_search_block" style="width:431px">
    <input type="text" id="search_text" name="search_text" value="" placeholder="电影,影人,专题,朋友..." style="position:absolute;left:0;margin:0" />
    <div class="styled-select" style="height:33px;position:absolute;right:33px"><select id="searchType" name="searchType"><option selected="selected" value="All">全部</option>
<option value="Movie">电影</option>
<option value="Actor">影人</option>
<option value="Topic">专题</option>
<option value="User">朋友</option>
</select></div>
    <input type="image" src="http://moviecaker.com/Images/search-1.png" id="search_submit" style="height: 18px;margin-bottom: 9px;margin-left: -3px;padding: 4px;width: 18px;position:absolute;top:0;right:0;margin:0" />
</div>


        </div>
        <!--container-->
        <div class="nav2-container">
            <div class="layout-wrap" style="vertical-align: super;">
                    <nav id="main-menu">
                        <ul>
                            <li><a href="http://moviecaker.com/" style="">首页</a></li>
                            <li>
                                <a href="http://moviecaker.com/video?sort=Hot1M">电影</a>
                                <ul>
                                    <li><a href="http://moviecaker.com/video?sort=Hot1M">热门电影</a></li>
                                    <li><a href="http://moviecaker.com/video?sort=Global">全球新片</a></li>
                                    <li><a href="http://moviecaker.com/video?sort=Award">金奖电影</a></li>
                                        <li><a href="http://moviecaker.com/video?sort=MyFriend&amp;order=Sign">朋友在看</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="http://moviecaker.com/topic?sort=Hot">专题</a>
                                <ul>
                                    <li><a href="http://moviecaker.com/topic?sort=All">全部</a></li>
                                    <li><a href="http://moviecaker.com/topic?sort=Hot">热门</a></li>
                                    <li><a href="http://moviecaker.com/topic?sort=New">最新</a></li>
                                        <li><a href="http://moviecaker.com/topic?sort=MyFriend">朋友专题</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="http://moviecaker.com/explore/video">发现</a>
                                <ul>
                                    <li><a href="http://moviecaker.com/explore/video">找电影</a></li>
                                    
                                        <li><a href="http://moviecaker.com/explore">找影友</a></li>
                                    <li><a href="http://moviecaker.com/explore/master">找達人</a></li>
                                </ul>
                            </li>
                        </ul>
                    </nav>
            </div>
        </div>
    </div>

    


    <div id="website_body" class="container layout-main layout-wrap">
        <div class="gene-main"></div>
        

<!-- CSS MOVED TO EXTERNAL FILE -->
<link rel="stylesheet" type="text/css" href="profile_settings.css">


<header style="margin-top: 60px"></header>

<form action="/user/edit" class="edit-personal-form form-horizontal" method="post">
    <input name="__RequestVerificationToken" type="hidden" value="R3QH9d-YMGQrWBpJv80cfOtFJSCVlY2zx37G_yMevyHu16iHjE81uiC7E0_MOoA5OFcOFDKDImOKLCGMOK-JIxGxC_poSIAMmgNPSGXKnBzJJVEX_npHuGaiV7Y5M1rX0" />
    <input data-val="true" data-val-number="The field UserId must be a number." data-val-required="UserId 字段是必需的。" id="UserId" name="UserId" type="hidden" value="10" />    

    <fieldset>
        <legend>编辑个人资料</legend>
        <!-- 頭像 -->
        <div class="row-fluid">
            <div class="span12">
                <div class="editor-label" style="margin-bottom: 15px; font-size: 14px;">头像</div>
                <div class="editor-field" style="float:left">
                    <img id="Avatar" class="avatar-photo" src="http://moviecaker.com/Uploads/UserAvatar/user_10.jpg" style="width: 115px; height: 115px;" />
                </div>
                <iframe src="http://moviecaker.com/User/UploadAvatar" id="upload_iframe" style="width:88%;height:130px;float:right;border: none;"></iframe>
            </div>
        </div>
        
        <div class="row-fluid">
            <div class="span6">
                <label class="control-label">昵称</label>
                <div class="editor-field">
                    <input class="text-box single-line" data-val="true" data-val-length="暱稱不能超過 16 個字元" data-val-length-max="16" data-val-remote="该昵称已经被使用" data-val-remote-additionalfields="*.NickName" data-val-remote-url="/Account/CheckNickName" data-val-required="为必填栏位" id="NickName" name="NickName" type="text" value="ian" />
                    <span class="field-validation-valid" data-valmsg-for="NickName" data-valmsg-replace="true"></span>
                </div>
            </div>
            <div class="span6">
                <label class="control-label">账号</label>
                <div class="editor-field">
                    <input data-val="true" data-val-remote="该电子信箱已经被使用" data-val-remote-additionalfields="*.EMail" data-val-remote-url="/Account/CheckEmail" data-val-required="E-mail 字段是必需的。" id="EMail" name="EMail" readonly="readonly" type="text" value="ian@miniasp.com" />
                    <input id="EMail" name="EMail" type="hidden" value="ian@miniasp.com" />
                    <span class="field-validation-valid" data-valmsg-for="EMail" data-valmsg-replace="true"></span>
                    &nbsp;
                    <i class="icon-question-sign icomoon icon-white" title="您尚未认证 Email，可能会丧失您的会员优惠资格，请即刻认证。"></i>
                    <a id="email-confirm" href="http://moviecaker.com/Account/SendEmailConfirmation">重寄认证信</a>
                </div>
            </div>
        </div>

        <div class="row-fluid">
            <div class="span6">
                <label class="control-label">生日</label>
                <div class="editor-field">
                    <div class="editor-field">
                        <div id="birthdayPicker" style="display: inline;"></div>
                        <input Value="2013/4/9" data-val="true" data-val-date="The field BirthDay must be a date." data-val-required="为必填栏位" id="BirthDay" name="BirthDay" type="hidden" value="2013/4/9 0:00:00" />
                    </div>
                </div>
            </div>
            <div class="span6">
                <label class="control-label">密码</label>
                <div class="editor-field" style="position: relative;">
                    <div class="btn-group">
                        <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">更改密码 <span class="caret"></span></a>
                        <iframe class="dropdown-menu" src="http://moviecaker.com/User/ChangePassword?pageType=edit" style="border-top: #579AAD 2px solid; border-radius: 0;"></iframe>
                    </div>
                </div>
            </div>
        </div>

        <div class="row-fluid">
            <div class="span6">
                <label class="control-label">居住地</label>
                <div class="editor-field" style="position: relative;">
                    <span class="field-validation-valid" data-valmsg-for="Location" data-valmsg-replace="true"></span>
                    <div id="divProvinces" style="display: inline;">
                        <select name="Provinces" id="Provinces" style="color: black;">
                            <option value="">请选择</option>
                            <option value="200">中国大陆</option>
                            <option value="400">其他地区</option>
                        </select>
                    </div>
                    <div id="divCities" style="display: inline;">
                        <select name="Cities" id="Cities" style="color: black;">
                            <option selected value="">请选择</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>


        <div class="row-fluid">
            <div class="span6">
                <label class="control-label">性別</label>
                <div class="editor-field padT5">
                    <span class="field-validation-valid" data-valmsg-for="IsBoy" data-valmsg-replace="true"></span>
                    男
                    <input checked="checked" id="IsBoy" name="IsBoy" type="radio" value="True" />
                    <span class="space_holder"></span>
                    女
                    <input id="IsBoy" name="IsBoy" type="radio" value="False" />
                </div>
            </div>
        </div>

        <div class="row-fluid">
            <div class="span6">
                <label class="control-label">电话</label>
                <div class="editor-field" style="position: relative;">
                    <div class="btn-group">
                        <a id="phone_verify" class="btn iframe" href="phone.html">新增电话号码</a>
                    </div>
                    <input type="text" value="0912345678" id="Phone" name="Phone" style="display: none;">
                    <div class="verified" style="display: none;"><i class="fa fa-check-square-o" aria-hidden="true"></i>手機號碼已綁定</iv>
                </div>
            </div>
        </div>

    </fieldset>

    <fieldset>
        <legend>喜欢电影类型</legend>
        <h3>世界上电影这样多, 但是我就是喜欢</h3>
        <br />
        <p>请选取三个</p>
        <ul id="movie_type_list" class="checking_list">
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M01" name="MyMovieTaste" id="M01" />
                    <label for="M01" class="category_name">动画</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M03" name="MyMovieTaste" id="M03" />
                    <label for="M03" class="category_name">喜剧</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M04" name="MyMovieTaste" id="M04" />
                    <label for="M04" class="category_name">家庭</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M06" name="MyMovieTaste" id="M06" checked/>
                    <label for="M06" class="category_name">犯罪</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M07" name="MyMovieTaste" id="M07" checked/>
                    <label for="M07" class="category_name">剧情</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M10" name="MyMovieTaste" id="M10" checked/>
                    <label for="M10" class="category_name">爱情</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M31" name="MyMovieTaste" id="M31" />
                    <label for="M31" class="category_name">动作冒险</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M32" name="MyMovieTaste" id="M32" />
                    <label for="M32" class="category_name">科幻奇幻</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M33" name="MyMovieTaste" id="M33" />
                    <label for="M33" class="category_name">恐怖惊悚</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M16" name="MyMovieTaste" id="M16" />
                    <label for="M16" class="category_name">悬疑推理</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M18" name="MyMovieTaste" id="M18" />
                    <label for="M18" class="category_name">战争</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M21" name="MyMovieTaste" id="M21" />
                    <label for="M21" class="category_name">音乐歌舞</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M26" name="MyMovieTaste" id="M26" />
                    <label for="M26" class="category_name">西部</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M30" name="MyMovieTaste" id="M30" />
                    <label for="M30" class="category_name">纪录</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M12" name="MyMovieTaste" id="M12" />
                    <label for="M12" class="category_name">传记</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M13" name="MyMovieTaste" id="M13" />
                    <label for="M13" class="category_name">历史</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M14" name="MyMovieTaste" id="M14" />
                    <label for="M14" class="category_name">运动</label>
                </li>
                <li>
                    <input type="checkbox" class="btn btn-default moviecategories" value="M37" name="MyMovieTaste" id="M37" />
                    <label for="M37" class="category_name">短片</label>
                </li>
        </ul>
    </fieldset>

    <fieldset>
        <legend>同步设置 <small>(授权後，你在MovieCaker的影评丶专题等内容将自动同步到第三方网站的动态消息上。你也可以随时在这里取消授权。)</small></legend>

        <div class="row-fluid">
            <div class="span12 sync-title">
                同步到其他网站
            </div>
        </div>

        <div class="row-fluid">
            <div class="span3">
                <label class="sync-label" for="check_fb">同步到facebook :</label>
                <input type="checkbox" id="check_fb" value="fb" name="Web3thParty" onclick="return false"  style="cursor:default;display:none;"/>
                <a href="#" id="bind_fb">未绑定</a>
                <span id="fbuser"></span>
                <br />
            </div>
            <div class="span3">
                <label class="sync-label" for="check_wb">同步到新浪微博 :</label>
                <input type="checkbox" id="check_wb" value="wb" name="Web3thParty" onclick="return false"  style="cursor:default;display:none;"/>
                <a href="#" id="bind_wb">未绑定</a>
                <span id="wbuser"></span>
                <br />
            </div>
            <div class="span6">
                <label class="sync-label" for="check_qq">同步到腾讯微博 :</label>
                <input type="checkbox" id="check_qq" value="qq" name="Web3thParty" onclick="return false"  style="cursor:default;display:none;"/>
                <a href="#" id="bind_qq">未绑定</a>
                <span id="qquser"></span>
                <br />
                <span id="qqLoginBtn" style="display:none;"></span>
            </div>
        </div>

        <div class="row-fluid">
            <div class="span12 sync-title">
                设置自动同步的內容
            </div>
        </div>

        <div class="row-fluid">
            <div class="span2">
                <label class="sync-label" for="auto1">发布影评 :</label>
                <input type="checkbox" id="auto1" value="Review" name="AutoPost" checked /><br />
            </div>
            <div class="span2">
                <label class="sync-label" for="auto2">发布专题 :</label>
                <input type="checkbox" id="auto2" value="Topic" name="AutoPost" checked /><br />
            </div>
            <div class="span2">
                <label class="sync-label" for="auto3">喜欢的影评 :</label>
                <input type="checkbox" id="auto3" value="LikedReview" name="AutoPost" checked /><br />
            </div>
            <div class="span2">
                <label class="sync-label" for="auto4">喜欢的专题 :</label>
                <input type="checkbox" id="auto4" value="LikedTopic" name="AutoPost" checked /><br />
            </div>
            <div class="span4">
                <label class="sync-label" for="auto4">订阅电影基因 :</label>
                <input type="checkbox" id="auto5" value="Subscription" name="AutoPost" checked /><br />
            </div>
        </div>

        <div class="row-fluid">
            <div class="span12 align-center">
                <input type="submit" value="储存" />
            </div>
        </div>
    </fieldset>
</form>

<footer style="margin-bottom: 100px"></footer>

    </div>
    <div class="navbar-fixed-bottom layout-footer">
        <div class="layout-wrap">
            <a class="v1" href="###" style="cursor: default;">
                <img src="http://moviecaker.com/images/down_logo.png" />
            </a>
            <a class="v1" id="web_about" href="http://moviecaker.com/Home/About" style="color:#ccc">关于</a>
            <a id="web_help" href="http://moviecaker.com/Home/Help">协助</a>
                <a id="feedback" href="http://moviecaker.com/Message/Feedback">问题反馈</a>
            <a href="###" id="get-app">APP</a>
            <span>苏ICP备13018111号-1</span>
        </div>
    </div>
    <div id="loading_cover">
        <img src="http://moviecaker.com/Images/loading.gif" />
    </div>
    <div id="fb-root"></div>
    <div class="app-outer">
        <div class="app-W">
            <div class="app-close">×</div>
            <div class="app-Info">
                <img src="http://moviecaker.com/Images/ilandy_use/app-03.png" alt="" />
                <a href="https://itunes.apple.com/pg/app/moviecaker/id901773808?mt=8" target="_blank" class="app"></a>
                <a href="http://suzhou.funmovie.tv/upgrade/android/MovieCaker.apk" target="_blank" class="app-ad"></a>
            </div>
        </div>
    </div>



    <!-- 手機驗證 using fancybox -->
    <script type="text/javascript">
        $("a#phone_verify").click(function() {
            $("a#phone_verify").fancybox({
                'padding'       : 0,
                'width'         : 496,
                'height'        : 380,
                'overlayOpacity': 0.7
            });
            return false;
        });
    </script>


        
    <!--Reference the SignalR library. -->
    <script src="http://moviecaker.com/Scripts/jquery.signalR-2.0.3.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="http://moviecaker.com/signalr/hubs"></script>
    <script src="http://moviecaker.com/Scripts/pages/layout-hub.min.js"></script>
    <script>
        layout_init('不隐藏我看过的电影',
            '隐藏我看过的电影',
            '出现我看过的电影',
            '4036480982',
            '加入会员正在申请中，请等待​​管理员批准',
            '欢迎加入 {0} 群组',
            '申请加入群组',
            '已经加入',
            '电影',
            '群组',
            '从朋友名单删除',
            '確定',
            '绑定帐号',
            '测试',
            '试试',
            '删除邀请',
            '确认',
            '交友邀请中',
            '删除',
            '加为朋友',
            '绑',
            'true',
            '/',
            '',
            '',
            'edit',
            'user',
            '',
            'moviecaker_offical',
            '741698679249852',
            '',
            'http://www.moviecaker.com',
            'EE27B5E50878C4E17515DAE42494D060A2D68AC34E3947CB966B12FB44BC7B3AA458752F12A90A2A9C20CFBCA6258FBA21C3AC4D8BF0E5E31B6DAB9E40CC7C5990E950BCA8DD820C02385A0829FDAE525F414017A093B80B3803B1A30A453FF679FE274CF401682604E7A36200488293',
            'wb02deu5od4nnr1ehupz1ogd',
            'moviecaker.com',
            '处理中...',
            '你有一个影评尚未完成 ,是否关闭?',
            '10',
            '评分失败!',
            '影评',
            '专题',
            '话题',
            '確定删除看过?',
            '您已看过，可以取消看过选择想看。',
            '讯息',
            '热门影评',
            '确认删除你的的朋友',
            '加为朋友',
            '交友邀请中',
            '中國大陸',
            'http://www.funmovie.tv/Content/pictures/files/',
            'http://www.funmovie.tv/Content/pictures/banners/');

        window.fbAsyncInit = function () {
            FB.init({
                appId: '741698679249852',
                channelUrl: '//' + requestUrlHost + '/channel.html',
                status: true, // check login status
                cookie: true, // enable cookies to allow the server to access the session
                xfbml: true
            });
            // fb 初始化完畢
            isFbInitialized = true;
        };
        (function (d) {
            var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
            if (d.getElementById(id)) { return; }
            js = d.createElement('script'); js.id = id; js.async = true;
            js.src = "/Scripts/fb/all.js";
            ref.parentNode.insertBefore(js, ref);
        }(document));
    </script>
    <script src="http://moviecaker.com/Scripts/openjs.js#autoboot=no&amp;debug=no"></script>

    <script>
        // #UsingSession#
        var successMessage = '';
        if (successMessage) {
            alert(successMessage);
        }

        var intervalForCheckingFb; // 使用 setInterval 檢查 FB 初始狀態
        $(function () {
            var isBing_fb = 'false' === 'true' ? true : false;
            var isBing_wb = 'false' === 'true' ? true : false;
            var isBing_qq = 'false' === 'true' ? true : false;
            // 顯示已經綁定帳號的暱稱
            if (isBing_fb) {
                if (isFbInitialized) { // isFbInitialized 在 JS.cshtml
                    showFbUserName();
                } else {
                    intervalForCheckingFb = setInterval(checkFbStatus, 1000); // 每一秒檢查 FB 是否初始完成
                }
            }
            if (isBing_wb) {
                showWbUserName();
            }
            if (isBing_qq) {

            }
            // 綁定 ( 在 socialnetwork.js 設定的全域變數, 因為 QQ的登入登出沒有像FB一樣的回呼功能, 所以得特別設定給QQ來判斷)
            isBindingWeb3Party = true;
            // 確定裁切
            $(document).on('click', '#finish_crop', function () {
                var x1 = parseInt($('input[name="x1"]').val(), 10);
                var x2 = parseInt($('input[name="x2"]').val(), 10);
                var y1 = parseInt($('input[name="y1"]').val(), 10);
                var y2 = parseInt($('input[name="y2"]').val(), 10);
                var width = parseInt($('input[name="width"]').val(), 10);
                var height = parseInt($('input[name="height"]').val(), 10);
                console.log(x1); console.log(x2); console.log(y1); console.log(y2); console.log(width); console.log(height);
                if (x1 === 0 && x2 === 0 && y1 === 0 && y2 === 0) {
                    alert('请选择裁剪区域');
                    return false;
                }
                $.post('/File/CropUserAvatar', { id: '10', x1: x1, x2: x2, y1: y1, y2: y2, width: width, height: height }, function () {

                });
                return false;
            });

            // 更改密碼
            $('#change_pw').click(function () {
                return false;
            });

            // facebook 綁定 , 初始設定在 Js.html, 在 _Layout.cshtml 引用
            $('#bind_fb').click(function () {
                var $this = $(this);
                var $checkBox = $('#check_fb');
                if (!$checkBox.is(":checked")) {
                    FB.login(function (response) {
                        //console.log(response);
                        if (response.authResponse) {
                            console.log('Welcome!  Fetching your information.... ');
                            fbAccessToken = response.authResponse.accessToken;
                            FB.api('/me', function (response) {
                                console.log('Good to see you, ' + response.name + '.');
                                // 更新資料庫資料
                                $.get('/User/UpdateWeb3thParty/fb?isBinding=True');
                                $checkBox.prop('checked', true);
                                $this.text('已绑定');
                                $('#fbuser').text(response.name);
                            });
                        } else {
                            console.log('User cancelled login or did not fully authorize.');
                        }
                    }, { scope: 'email,user_likes,user_photos,read_stream,publish_actions' });
                } else {
                    if (FB.getAccessToken() !== null) {
                        FB.logout(function (response) {
                            // user is now logged out
                            $checkBox.prop('checked', false);
                            $this.text('未绑定');
                            $('#fbuser').text('');
                        });
                    } else {
                        $checkBox.prop('checked', false);
                        $this.text('未绑定');
                    }
                    $.get('/User/UpdateWeb3thParty/fb?isBinding=False');

                }
                return false;
            });
            // 新浪 sina 綁定
            $('#bind_wb').click(function () {
                var $this = $(this);
                var $checkBox = $('#check_wb');
                if ($checkBox.is(":checked")) {
                    // 移除綁定
                    WB2.logout(function () {
                        //callback function
                        $checkBox.prop('checked', false);
                        $this.text('未绑定');
                        $.get('/User/UpdateWeb3thParty/wb?isBinding=False');
                        console.log('微博退出成功');
                        $('#wbuser').text('');
                    });
                } else {
                    // 綁定
                    WB2.login(function () {
                        $checkBox.prop('checked', true);
                        $this.text('已绑定');
                        $.get('/User/UpdateWeb3thParty/wb?isBinding=True');
                        console.log('微博登录认证成功');
                        // 取得用戶訊息
                        showWbUserName();
                    });
                }
                return false;
            });
            // QQ騰訊 綁定
            $(document).on('click', '#bind_qq', function () {
                var $this = $(this);
                var $checkBox = $('#check_qq');
                if ($checkBox.is(":checked")) {
                    // 移除綁定
                    QC.Login.signOut(); // qq 登出

                } else {
                    // 綁定
                    QC.Login.showPopup(); // qq 登入
                }
                return false;
            });
            // 生日
            
            var birthday = '2013/4/9';
            $("div#birthdayPicker").birthdaypicker({
                dateFormat: 'bigEndian',
                fieldName: 'tempDate', // 這個功能會自動產生一個 hidden 欄位, 預設命名為 birthday, 如果要改名的話則 fieldName 要給值
                fieldId: 'tempDate',
                defaultDate: birthday
            });
            // 將 birthdaypicker 選到數值塞到生日的隱藏欄位, 讓 MVC 的 validator 判斷
            $(document).on('change', '.birth-year, .birth-month, .birth-day', function () {
                var $year = $('.birth-year'),
                    $month = $('.birth-month'),
                    $day = $('.birth-day'),
                    year = $year.val(),
                    month = $month.val(),
                    day = $day.val(),
                    dateFormated;
                if (year !== '0' && month !== '0' && day !== '0') {
                    dateFormated = year + '/' + month + '/' + day;
                    $('#tempDate').val(dateFormated);
                    $('#BirthDay').val(dateFormated);
                } else {
                    $('#tempDate').val();
                    $('#BirthDay').val('');
                }
            });
            // 地區
            var provinces = '400', city = '100',
                GetCity = function (p, c) {
                    $('#divCities').load("/Home/GetCityList" + "?p=" + p + "&dc=" + (new Date).getTime(), function () {
                        $("#Location").val(c);
                        $('#Cities').val(c);
                    });
                };

            $('#Provinces').val(provinces);
            if (provinces != "" && provinces.length > 0) {
                GetCity(provinces, city);
            }
            $('#Provinces').on('change', function () {
                var $this = $(this),
                    p = $this.val();
                GetCity(p, city);
            });

            $('#Cities').live('change', function () {
                var $this = $(this),
                    p = $this.val();
                $("#Location").val(p);
            });
            // 喜歡的電影類型
            $('.moviecategories').click(function () {
                var $this = $(this);
                if ($('.moviecategories:checked').length > 3) {
                    alert('请勿超过三个喜欢的电影类型');
                    $this.prop('checked', false);
                }
            });

            //檢查若是同步設定來的網頁要focus到同步設置的地方
            if (location.hash == '#syn') {
                $('html, body').scrollTop(999);
            }
            // 暱稱
            $('#NickName').keyup(function () {
                var $this = $(this),
                    maxLength = 16, // 設定字數
                    str = $this.val(),
                    c = str.match(/[^ -~]/g), //計算有幾個全型字、中文字...
                    stringLength = str.length + (c ? c.length : 0);
                if (stringLength > maxLength) {
                    alert('昵称最多 8 个中文字或 16 个英文字');
                    $this.val(str.substring(0, str.length - 1)); // 截掉超過字數的文字
                }
            });
            // 重寄 Email 認證信
            $('#email-confirm').click(function () {
                var $this = $(this);
                if ($this.is("[disabled]")) {
                    event.preventDefault();
                }
                $this.attr("disabled", "disabled");
                $.get($this.attr('href')).success(function (data) {
                    if (data) {
                        alert('認證信已寄出');
                    } else {
                        alert('此信箱已認證完成');
                    }
                    $($this).removeAttr("disabled");
                });
                return false;
            });
        }); // end of jQuery
        function showFbUserName() {
            FB.api('/me', function (response) { // https://developers.facebook.com/docs/graph-api/reference/user/
                // console.log(response);
                if (response && !response.error) {
                    console.log('hello fb user : ' + response.name); $('#fbuser').text(response.name);
                }
            });
        }
        function checkFbStatus() {
            if (isFbInitialized) { // 初始化完成
                if (FB.getAccessToken() !== null) { // token 取得完成
                    clearInterval(intervalForCheckingFb);
                    showFbUserName();
                }

            }
        }
        function showWbUserName() {
            WB2.anyWhere(function (W) {
                // 根据用户ID获取用户信息
                W.parseCMD("/users/show.json", function (sResult, bStatus) {
                    if (bStatus == true) {
                        console.log('hello wb user : ' + sResult.name);
                        $('#wbuser').text(sResult.name);
                    }
                }, {
                    uid: WB2.oauthData.uid
                }, {
                    method: 'get'
                });
            });
        }
    </script>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-68883772-1', 'auto');
        ga('send', 'pageview');
    </script>
</body>
</html>